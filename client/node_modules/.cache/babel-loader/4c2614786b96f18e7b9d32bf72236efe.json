{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cblis\\\\OneDrive\\\\Documents\\\\Projects\\\\SBFE4\\\\client\\\\src\\\\context\\\\websocketContext.tsx\",\n    _s = $RefreshSig$();\n\nimport { io } from \"socket.io-client\";\nimport { createContext, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ENDPOINT = \"http://localhost:3001\";\nconst initialContext = {\n  socket: undefined,\n  status: \"Not Connected\"\n};\nexport const WebSocketContext = /*#__PURE__*/createContext(initialContext);\nexport function WebSocketContextProvider(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [webSocketState, setWebSocketState] = useState(initialContext);\n  useEffect(() => {\n    const socket = io(ENDPOINT);\n    socket.on(\"connect\", () => {\n      console.log(`Connected to websocket with id ${socket.id}`);\n      setWebSocketState({\n        socket,\n        status: \"Connected\"\n      });\n    });\n    setWebSocketState({\n      socket: socket,\n      status: \"Connecting\"\n    });\n  }, []);\n  useEffect(() => {}, [webSocketState]);\n  return /*#__PURE__*/_jsxDEV(WebSocketContext.Provider, {\n    value: webSocketState,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n\n_s(WebSocketContextProvider, \"ebFvppi6GxD70StobiO28PNB3tY=\");\n\n_c = WebSocketContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"WebSocketContextProvider\");","map":{"version":3,"sources":["C:/Users/cblis/OneDrive/Documents/Projects/SBFE4/client/src/context/websocketContext.tsx"],"names":["io","createContext","useEffect","useState","ENDPOINT","initialContext","socket","undefined","status","WebSocketContext","WebSocketContextProvider","children","webSocketState","setWebSocketState","on","console","log","id"],"mappings":";;;AAIA,SAAiBA,EAAjB,QAA2B,kBAA3B;AACA,SAASC,aAAT,EAAwBC,SAAxB,EAAmCC,QAAnC,QAAmD,OAAnD;;AACA,MAAMC,QAAQ,GAAG,uBAAjB;AAOA,MAAMC,cAAiC,GAAG;AACxCC,EAAAA,MAAM,EAAEC,SADgC;AAExCC,EAAAA,MAAM,EAAE;AAFgC,CAA1C;AAKA,OAAO,MAAMC,gBAAgB,gBAC3BR,aAAa,CAAoBI,cAApB,CADR;AAOP,OAAO,SAASK,wBAAT,OAAuD;AAAA;;AAAA,MAArB;AAAEC,IAAAA;AAAF,GAAqB;AAC5D,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IACJV,QAAQ,CAAoBE,cAApB,CADV;AAGAH,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMI,MAA0D,GAC9DN,EAAE,CAACI,QAAD,CADJ;AAEAE,IAAAA,MAAM,CAACQ,EAAP,CAAU,SAAV,EAAqB,MAAM;AACzBC,MAAAA,OAAO,CAACC,GAAR,CAAa,kCAAiCV,MAAM,CAACW,EAAG,EAAxD;AACAJ,MAAAA,iBAAiB,CAAC;AAAEP,QAAAA,MAAF;AAAUE,QAAAA,MAAM,EAAE;AAAlB,OAAD,CAAjB;AACD,KAHD;AAIAK,IAAAA,iBAAiB,CAAC;AAAEP,MAAAA,MAAM,EAAEA,MAAV;AAAkBE,MAAAA,MAAM,EAAE;AAA1B,KAAD,CAAjB;AACD,GARQ,EAQN,EARM,CAAT;AAUAN,EAAAA,SAAS,CAAC,MAAM,CAAE,CAAT,EAAW,CAACU,cAAD,CAAX,CAAT;AAEA,sBACE,QAAC,gBAAD,CAAkB,QAAlB;AAA2B,IAAA,KAAK,EAAEA,cAAlC;AAAA,cACGD;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GArBeD,wB;;KAAAA,wB","sourcesContent":["import {\r\n  ServerToClientEvents,\r\n  ClientToServerEvents,\r\n} from \"../../../server/lib/events\";\r\nimport { Socket, io } from \"socket.io-client\";\r\nimport { createContext, useEffect, useState } from \"react\";\r\nconst ENDPOINT = \"http://localhost:3001\";\r\n\r\ninterface IWebSocketContext {\r\n  socket: Socket<ServerToClientEvents, ClientToServerEvents> | undefined;\r\n  status: \"Not Connected\" | \"Connected\" | \"Connecting\";\r\n}\r\n\r\nconst initialContext: IWebSocketContext = {\r\n  socket: undefined,\r\n  status: \"Not Connected\",\r\n};\r\n\r\nexport const WebSocketContext =\r\n  createContext<IWebSocketContext>(initialContext);\r\n\r\ninterface Props {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport function WebSocketContextProvider({ children }: Props) {\r\n  const [webSocketState, setWebSocketState] =\r\n    useState<IWebSocketContext>(initialContext);\r\n\r\n  useEffect(() => {\r\n    const socket: Socket<ServerToClientEvents, ClientToServerEvents> =\r\n      io(ENDPOINT);\r\n    socket.on(\"connect\", () => {\r\n      console.log(`Connected to websocket with id ${socket.id}`);\r\n      setWebSocketState({ socket, status: \"Connected\" });\r\n    });\r\n    setWebSocketState({ socket: socket, status: \"Connecting\" });\r\n  }, []);\r\n\r\n  useEffect(() => {}, [webSocketState]);\r\n\r\n  return (\r\n    <WebSocketContext.Provider value={webSocketState}>\r\n      {children}\r\n    </WebSocketContext.Provider>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}