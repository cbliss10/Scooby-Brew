{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\cblis\\\\OneDrive\\\\Documents\\\\Projects\\\\SBFE4\\\\client\\\\src\\\\context\\\\websocketContext.tsx\",\n    _s = $RefreshSig$();\n\nimport { io } from \"socket.io-client\";\nimport { createContext, useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ENDPOINT = \"http://localhost:3001\";\nconst initialContext = {\n  socket: undefined\n};\nexport const WebSocketContext = /*#__PURE__*/createContext(initialContext);\nexport function WebSocketContextProvider(_ref) {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [webSocketState, setWebSocketState] = useState(initialContext);\n  useEffect(() => {\n    const socket = io(ENDPOINT);\n    socket.on(\"connect\", () => {\n      console.log(`Connected to websocket with id ${socket.id}`);\n    });\n    setWebSocketState({\n      socket\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(WebSocketContext.Provider, {\n    value: webSocketState,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n\n_s(WebSocketContextProvider, \"wGri+ze+2R0OBYBwrLCVHD8xa5c=\");\n\n_c = WebSocketContextProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"WebSocketContextProvider\");","map":{"version":3,"sources":["C:/Users/cblis/OneDrive/Documents/Projects/SBFE4/client/src/context/websocketContext.tsx"],"names":["io","createContext","useEffect","useState","ENDPOINT","initialContext","socket","undefined","WebSocketContext","WebSocketContextProvider","children","webSocketState","setWebSocketState","on","console","log","id"],"mappings":";;;AAIA,SAAiBA,EAAjB,QAA2B,kBAA3B;AACA,SAASC,aAAT,EAAwBC,SAAxB,EAAmCC,QAAnC,QAAmD,OAAnD;;AACA,MAAMC,QAAQ,GAAG,uBAAjB;AAMA,MAAMC,cAAgC,GAAG;AACvCC,EAAAA,MAAM,EAAEC;AAD+B,CAAzC;AAIA,OAAO,MAAMC,gBAAgB,gBAAGP,aAAa,CAAmBI,cAAnB,CAAtC;AAMP,OAAO,SAASI,wBAAT,OAAuD;AAAA;;AAAA,MAArB;AAAEC,IAAAA;AAAF,GAAqB;AAC5D,QAAM,CAACC,cAAD,EAAiBC,iBAAjB,IACJT,QAAQ,CAAmBE,cAAnB,CADV;AAGAH,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMI,MAA0D,GAC9DN,EAAE,CAACI,QAAD,CADJ;AAEAE,IAAAA,MAAM,CAACO,EAAP,CAAU,SAAV,EAAqB,MAAM;AACzBC,MAAAA,OAAO,CAACC,GAAR,CAAa,kCAAiCT,MAAM,CAACU,EAAG,EAAxD;AACD,KAFD;AAGAJ,IAAAA,iBAAiB,CAAC;AAAEN,MAAAA;AAAF,KAAD,CAAjB;AACD,GAPQ,EAON,EAPM,CAAT;AASA,sBACE,QAAC,gBAAD,CAAkB,QAAlB;AAA2B,IAAA,KAAK,EAAEK,cAAlC;AAAA,cACGD;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAKD;;GAlBeD,wB;;KAAAA,wB","sourcesContent":["import {\r\n  ServerToClientEvents,\r\n  ClientToServerEvents,\r\n} from \"../../../server/lib/events\";\r\nimport { Socket, io } from \"socket.io-client\";\r\nimport { createContext, useEffect, useState } from \"react\";\r\nconst ENDPOINT = \"http://localhost:3001\";\r\n\r\ninterface WebSocketContext {\r\n  socket: Socket<ServerToClientEvents, ClientToServerEvents> | undefined;\r\n}\r\n\r\nconst initialContext: WebSocketContext = {\r\n  socket: undefined,\r\n};\r\n\r\nexport const WebSocketContext = createContext<WebSocketContext>(initialContext);\r\n\r\ninterface Props {\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport function WebSocketContextProvider({ children }: Props) {\r\n  const [webSocketState, setWebSocketState] =\r\n    useState<WebSocketContext>(initialContext);\r\n\r\n  useEffect(() => {\r\n    const socket: Socket<ServerToClientEvents, ClientToServerEvents> =\r\n      io(ENDPOINT);\r\n    socket.on(\"connect\", () => {\r\n      console.log(`Connected to websocket with id ${socket.id}`);\r\n    });\r\n    setWebSocketState({ socket });\r\n  }, []);\r\n\r\n  return (\r\n    <WebSocketContext.Provider value={webSocketState}>\r\n      {children}\r\n    </WebSocketContext.Provider>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}